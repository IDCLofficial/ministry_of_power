# Nginx Configuration Template for Multiple Websites
# Place this in /etc/nginx/sites-available/ and create symlinks

# Website 1: Ministry of Power
server {
    listen 80;
    server_name ministryofpower.gov.ng www.ministryofpower.gov.ng;
    
    root /var/www/ministry-of-power/dist;
    index index.html;
    
    # Security headers
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-XSS-Protection "1; mode=block" always;
    add_header X-Content-Type-Options "nosniff" always;
    
    # Gzip compression
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css text/xml text/javascript application/javascript application/xml+rss application/json;
    
    # Handle SPA routing
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    # Cache static assets
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    # Logs
    access_log /var/log/nginx/ministry-of-power.access.log;
    error_log /var/log/nginx/ministry-of-power.error.log;
}

# Website 2: Women Affairs Ministry
server {
    listen 80;
    server_name womenaffairs.gov.ng www.womenaffairs.gov.ng;
    
    root /var/www/women-affairs/dist;
    index index.html;
    
    # Security headers
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-XSS-Protection "1; mode=block" always;
    add_header X-Content-Type-Options "nosniff" always;
    
    # Gzip compression
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css text/xml text/javascript application/javascript application/xml+rss application/json;
    
    # Handle SPA routing
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    # Cache static assets
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    # Logs
    access_log /var/log/nginx/women-affairs.access.log;
    error_log /var/log/nginx/women-affairs.error.log;
}

# Template for additional websites (copy and modify)
# server {
#     listen 80;
#     server_name yourwebsite.com www.yourwebsite.com;
#     
#     root /var/www/your-website/dist;
#     index index.html;
#     
#     # Security headers
#     add_header X-Frame-Options "SAMEORIGIN" always;
#     add_header X-XSS-Protection "1; mode=block" always;
#     add_header X-Content-Type-Options "nosniff" always;
#     
#     # Gzip compression
#     gzip on;
#     gzip_vary on;
#     gzip_min_length 1024;
#     gzip_types text/plain text/css text/xml text/javascript application/javascript application/xml+rss application/json;
#     
#     # Handle SPA routing
#     location / {
#         try_files $uri $uri/ /index.html;
#     }
#     
#     # Cache static assets
#     location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
#         expires 1y;
#         add_header Cache-Control "public, immutable";
#     }
#     
#     # Logs
#     access_log /var/log/nginx/your-website.access.log;
#     error_log /var/log/nginx/your-website.error.log;
# }


server {
    listen 80;
    server_name ministryofpower.gov.ng www.ministryofpower.gov.ng;

    location / {
        proxy_pass http://127.0.0.1:3000;
    }
}